{"version":3,"sources":["contactHelpers.js","Contact.js","Contacts.js","Input.js","SearchForm.js","AddContactForm.js","Notification.js","App.js","index.js"],"names":["apiURL","getContacts","cb","axios","get","then","res","data","console","log","finally","func","target","object","notificationHandler","concat","post","status","setTimeout","catch","contacts","newPerson","setState","confirmation","window","confirm","name","match","find","contact","put","id","delete","error","Contact","state","number","onClick","contactHelpers","Contacts","search","filter","person","toLowerCase","includes","map","key","Input","title","value","onChange","SearchForm","event","AddContactForm","lastId","nextId","useState","newName","setNewName","newNumber","setNewNumber","length","lastIndex","onSubmit","preventDefault","contactObject","some","type","Notification","message","className","App","setContacts","setFilter","serverResponse","setServerResponse","useEffect","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1d350568.chunk.js","sourcesContent":["import axios from 'axios';\nconst apiURL = 'https://afternoon-temple-86036.herokuapp.com/api/contacts';\n\nconst getContacts = ( cb ) => {\n      axios\n      .get(`${apiURL}`)\n      .then( res => {\n        cb(res.data)\n        console.log(res.data)\n      })\n      .finally( () => {\n        console.log('fired Get Contacts')\n      })\n}\n\nconst addContact = ( func, target, object, notificationHandler ) => {\n  func(target.concat(object));\n  axios.post(`${apiURL}`, object)\n  .then( () => {\n    notificationHandler({\n      status: `success`,\n      data: `Contact was succcesfully added `\n    })\n    setTimeout( () => {\n      notificationHandler(null)\n    }, 5000)\n  })\n  .catch( () => {\n    notificationHandler({\n      status: `error`,\n      data: `Contact could not be added `\n    })\n    setTimeout( () => {\n      notificationHandler(null)\n    }, 5000)\n  })\n}\n\nconst replaceContact = (contacts, newPerson, setState, notificationHandler) => {\n  let confirmation = window.confirm(`${newPerson.name} is already in the phonebook. Would you like to replace them? `);\n  let match = contacts.find( contact =>  contact.name === newPerson.name)\n  if(confirmation && match){\n    axios.put(`${apiURL}/${match.id}`, newPerson)\n    .then( () => getContacts( setState ) )\n    .catch( () => {\n      notificationHandler({\n        status: `error`,\n        data: `Contact could not be added, please refresh browser and try again `\n      })\n      setTimeout( () => {\n        notificationHandler(null)\n      }, 5000)\n    })\n  }\n}\n\nconst deleteContact = ( setState, id) => {\n  console.log(id);\n  axios\n  .delete(`${apiURL}/${id}`)\n  .then( () => getContacts( setState ) )\n  .catch( error => {\n    console.error(error) \n  })\n}\n\nexport default {\n    getContacts, \n    addContact,\n    replaceContact,\n    deleteContact\n}","import React from 'react';\nimport contactHelpers from './contactHelpers';\n\n\nconst Contact = ({state, setState, name, number, id}) => {\n\n    const callback = () => {\n        contactHelpers.deleteContact( setState, id)\n        console.log(`delete ${id}`)\n    }\n\n    return (\n        <>\n            <p>{name}: {number}</p>\n            <button onClick={  callback }>delete</button>\n        </>\n    )\n}\n\nexport default Contact;","import React from 'react';\nimport Contact from './Contact';\n\nconst Contacts = ({ contacts, setState, search }) => {\n\n    if(search){\n        let matches = contacts.filter( person => person.name.toLowerCase().includes(search) || person.number.includes(search));\n        return matches.map( match => <Contact state={contacts} setState={setState} name={match.name} number={match.number} key={match.name} id={match.id} />)\n    }\n    return contacts.map( contact => <Contact state={contacts} setState={setState} name={contact.name} number={contact.number} key={contact.name} id={contact.id} />)\n\n}\n\nexport default Contacts;","import React from 'react';\n\nconst Input = ({title, value, onChange}) => {\n    return(\n    <>\n       {title}: <input value={value} onChange={onChange} /> <br />\n    </>\n    )\n}\n\nexport default Input;","import React from 'react';\nimport Input from './Input';\n\nconst SearchForm = ({filter, func}) => {\n    const handleFilter = (event) => {\n        func(event.target.value);\n    }\n\n    return(\n        <>\n            <h3>Search</h3>\n            <form>\n                <div>\n                    <Input title={'search'} value={filter} onChange={handleFilter} />\n                </div>\n            </form>\n        </>\n    )\n}\n\nexport default SearchForm;","import React, { useState } from 'react';\nimport Input from './Input';\nimport contactHelpers from './contactHelpers';\n\nconst AddContactForm = ({contacts, func, notificationHandler}) => {\n    const [ newName, setNewName ] = useState('');\n    const [ newNumber, setNewNumber ] = useState('');\n\n    let lastId;\n    let nextId;\n\n    if(contacts.length !== 0){\n      const lastIndex = contacts.length - 1;\n      const lastContact = contacts[lastIndex];\n      lastId = lastContact.id;\n      nextId = lastId + 1;\n    } \n\n    const addContact = (event) => {\n        event.preventDefault();\n        const contactObject = {\n          name: newName,\n          number: newNumber,\n          id: nextId\n        }\n        contacts.some(contact => contact.name === contactObject.name) \n          // ? alert(`${contactObject.name} is already in the phonebook`)\n          ? contactHelpers.replaceContact(contacts, contactObject, func, notificationHandler)\n          : contactHelpers.addContact(func, contacts, contactObject, notificationHandler);\n    \n        setNewName('');\n        setNewNumber('');\n      }\n\n    const handleNewName = (event) => {\n    setNewName(event.target.value);\n    } \n\n    const handleNewNumber = (event) => {\n    setNewNumber(event.target.value);\n    } \n\n    return(\n    <>  \n      <h3>Add Contact</h3>\n      <form onSubmit={addContact}>\n          <div>\n              <Input title={\"name\"} value={newName} onChange={handleNewName} />\n              <Input title={\"number\"} value={newNumber} onChange={handleNewNumber} />\n          </div>\n          <div>\n              <button type=\"submit\">Add</button>\n          </div>\n      </form>\n    </>\n    )\n}\n\nexport default AddContactForm;","import React from 'react';\n\nconst Notification = ( {message} ) => {\n    if(message === null) {\n        return null\n    } else if (message.status === 'success') {\n        return(\n            <div className=\"successMessage\">\n                <h2>{ message.data }</h2>\n            </div>\n        ) \n    } else {\n        return(\n            <div className=\"failureMessage\">\n                <h2>{ message.data }</h2>\n            </div>\n        ) \n    }\n}\n\n\nexport default Notification;","import React, { useState, useEffect } from 'react';\nimport Contacts from './Contacts';\nimport SearchForm from './SearchForm';\nimport AddContactForm from './AddContactForm';\nimport contactHelpers from './contactHelpers';\nimport Notification from './Notification';\n\nconst App = () => {\n  const [ contacts, setContacts ] = useState([]);\n  const [ filter, setFilter ] = useState('');\n  const [ serverResponse, setServerResponse ] = useState(null);\n\n  console.log(contacts);\n  useEffect( () => {\n    contactHelpers.getContacts( setContacts );\n    console.log(`${contacts} after get request`)\n  }, [])\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={serverResponse} />\n      <AddContactForm contacts={contacts} func={setContacts} notificationHandler={setServerResponse}/>\n      <SearchForm search={filter} func={setFilter} />\n      <h3>Contacts</h3>\n      <Contacts contacts={contacts} setState={setContacts} search={filter} />\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './app.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}