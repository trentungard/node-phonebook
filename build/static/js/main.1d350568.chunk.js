(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{14:function(e,t,n){e.exports=n(38)},19:function(e,t,n){},20:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(13),o=n.n(l),u=(n(19),n(20),n(2)),r=n(3),i=n.n(r),s="https://afternoon-temple-86036.herokuapp.com/api/contacts",m=function(e){i.a.get("".concat(s)).then((function(t){e(t.data),console.log(t.data)})).finally((function(){console.log("fired Get Contacts")}))},f=m,d=function(e,t,n,a){e(t.concat(n)),i.a.post("".concat(s),n).then((function(){a({status:"success",data:"Contact was succcesfully added "}),setTimeout((function(){a(null)}),5e3)})).catch((function(){a({status:"error",data:"Contact could not be added "}),setTimeout((function(){a(null)}),5e3)}))},h=function(e,t,n,a){var c=window.confirm("".concat(t.name," is already in the phonebook. Would you like to replace them? ")),l=e.find((function(e){return e.name===t.name}));c&&l&&i.a.put("".concat(s,"/").concat(l.id),t).then((function(){return m(n)})).catch((function(){a({status:"error",data:"Contact could not be added, please refresh browser and try again "}),setTimeout((function(){a(null)}),5e3)}))},E=function(e,t){console.log(t),i.a.delete("".concat(s,"/").concat(t)).then((function(){return m(e)})).catch((function(e){console.error(e)}))},b=function(e){e.state;var t=e.setState,n=e.name,a=e.number,l=e.id;return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,n,": ",a),c.a.createElement("button",{onClick:function(){E(t,l),console.log("delete ".concat(l))}},"delete"))},g=function(e){var t=e.contacts,n=e.setState,a=e.search;return a?t.filter((function(e){return e.name.toLowerCase().includes(a)||e.number.includes(a)})).map((function(e){return c.a.createElement(b,{state:t,setState:n,name:e.name,number:e.number,key:e.name,id:e.id})})):t.map((function(e){return c.a.createElement(b,{state:t,setState:n,name:e.name,number:e.number,key:e.name,id:e.id})}))},v=function(e){var t=e.title,n=e.value,a=e.onChange;return c.a.createElement(c.a.Fragment,null,t,": ",c.a.createElement("input",{value:n,onChange:a})," ",c.a.createElement("br",null))},p=function(e){var t=e.filter,n=e.func;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Search"),c.a.createElement("form",null,c.a.createElement("div",null,c.a.createElement(v,{title:"search",value:t,onChange:function(e){n(e.target.value)}}))))},C=function(e){var t,n,l=e.contacts,o=e.func,r=e.notificationHandler,i=Object(a.useState)(""),s=Object(u.a)(i,2),m=s[0],f=s[1],E=Object(a.useState)(""),b=Object(u.a)(E,2),g=b[0],p=b[1];if(0!==l.length){var C=l.length-1;t=l[C].id,n=t+1}return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Add Contact"),c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={name:m,number:g,id:n};l.some((function(e){return e.name===t.name}))?h(l,t,o,r):d(o,l,t,r),f(""),p("")}},c.a.createElement("div",null,c.a.createElement(v,{title:"name",value:m,onChange:function(e){f(e.target.value)}}),c.a.createElement(v,{title:"number",value:g,onChange:function(e){p(e.target.value)}})),c.a.createElement("div",null,c.a.createElement("button",{type:"submit"},"Add"))))},S=function(e){var t=e.message;return null===t?null:"success"===t.status?c.a.createElement("div",{className:"successMessage"},c.a.createElement("h2",null,t.data)):c.a.createElement("div",{className:"failureMessage"},c.a.createElement("h2",null,t.data))},j=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],l=t[1],o=Object(a.useState)(""),r=Object(u.a)(o,2),i=r[0],s=r[1],m=Object(a.useState)(null),d=Object(u.a)(m,2),h=d[0],E=d[1];return console.log(n),Object(a.useEffect)((function(){f(l),console.log("".concat(n," after get request"))}),[]),c.a.createElement("div",null,c.a.createElement("h1",null,"Phonebook"),c.a.createElement(S,{message:h}),c.a.createElement(C,{contacts:n,func:l,notificationHandler:E}),c.a.createElement(p,{search:i,func:s}),c.a.createElement("h3",null,"Contacts"),c.a.createElement(g,{contacts:n,setState:l,search:i}))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(j,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.1d350568.chunk.js.map